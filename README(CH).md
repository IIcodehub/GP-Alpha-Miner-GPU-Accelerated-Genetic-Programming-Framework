ç®€ä½“ä¸­æ–‡ | [English](./README.md)
# ðŸ§¬ GP-Alpha-Miner: GPU-Accelerated Genetic Programming Framework

![CuPy](https://img.shields.io/badge/Backend-CuPy%20(GPU)-green)
![DEAP](https://img.shields.io/badge/Framework-DEAP-orange)
![License](https://img.shields.io/badge/License-MIT-lightgrey)

**GP-Alpha-Miner** æ˜¯ä¸€ä¸ªä¸“ä¸º A è‚¡å…¨å¸‚åœºè®¾è®¡çš„é«˜æ€§èƒ½é‡åŒ–å› å­è‡ªåŠ¨æŒ–æŽ˜æ¡†æž¶ã€‚é€šè¿‡ç»“åˆé—ä¼ è§„åˆ’ï¼ˆGenetic Programmingï¼‰çš„å…¨å±€æœç´¢èƒ½åŠ›ä¸Ž **GPU (CuPy)** çš„å¤§è§„æ¨¡å¹¶è¡Œè®¡ç®—åŠ›ï¼Œæœ¬é¡¹ç›®èƒ½å¤Ÿå®žçŽ°ç§’çº§çš„å› å­å›žæµ‹ä¸Žè¿›åŒ–ï¼Œå¹¶å†…ç½®äº†æ·±åº¦çš„é‡‘èžå®žæˆ˜é€»è¾‘ï¼šä»Žéžçº¿æ€§æ³¢åŠ¨çŽ‡ç‰¹å¾åˆ°ç»“æž„çº¦æŸå˜å¼‚ï¼Œå†åˆ°è‡ªåŠ¨åŒ–ç½‘æ ¼è°ƒå‚ã€‚

---

## âœ¨ æ ¸å¿ƒäº®ç‚¹ (Key Highlights)

* ðŸš€ **æžè‡´æ€§èƒ½**: ç®—å­åº“å®Œå…¨å‘é‡åŒ–ï¼ŒåŸºäºŽ `CuPy` æ˜¾å­˜ç›´æŽ¥è¿ç®—ã€‚åœ¨ $5000 \times 1000$ çš„æ•°æ®çŸ©é˜µä¸Šï¼Œå•æ¬¡è¿­ä»£æ•ˆçŽ‡è¾ƒä¼ ç»Ÿ CPU æå‡çº¦ 100 å€ã€‚
* âš™ï¸ **è‡ªåŠ¨åŒ–ç½‘æ ¼æœç´¢ (Grid Search)**: å†…ç½®å‚æ•°ç»„åˆéåŽ†æ¨¡å—ï¼Œå¯è‡ªåŠ¨å¯¹ç§ç¾¤è§„æ¨¡ã€ä»£æ•°ã€æ¢æ‰‹æƒ©ç½šç­‰è¶…å‚æ•°è¿›è¡Œå¯»ä¼˜ï¼Œå¹¶ç‹¬ç«‹å½’æ¡£æ¯æ¬¡å®žéªŒç»“æžœã€‚
* ðŸ§¬ **è¿›åŒ–é€»è¾‘å¢žå¼º**:
    * **çƒ­å¯åŠ¨ (Warm Start)**: å¼•å…¥å…ˆéªŒç§å­åº“ï¼Œå°†ç»å…¸é‡‘èžé€»è¾‘æ³¨å…¥ç§ç¾¤åŸºå› ã€‚
    * **ç»“æž„çº¦æŸ (Structure Constrained)**: æä¾›åŒæž„äº¤å‰ä¸Žç‚¹çªå˜ï¼Œä¿æŠ¤â€œé€»è¾‘éª¨æž¶â€ä¸è¢«ç ´åã€‚
* ðŸ›¡ï¸ **å·¥ä¸šçº§é˜²è¿‡æ‹Ÿåˆ**:
    * **ç‰¹å¾åŽ»é‡çº²**: å±è”½ç»å¯¹ä»·æ ¼ï¼Œå¼ºåˆ¶ä½¿ç”¨æ”¶ç›ŠçŽ‡ã€ä¹–ç¦»çŽ‡ç­‰ 18 ç»´ç›¸å¯¹ç‰¹å¾ã€‚
    * **æ—¶åºé˜²æœªæ¥**: ç›®æ ‡æ”¶ç›ŠçŽ‡æ‰§è¡Œä¸¥æ ¼çš„ `shift(-1)`ï¼Œç¡®ä¿æ‰€æœ‰ä¿¡å·å‡åŸºäºŽå·²çŸ¥ä¿¡æ¯ã€‚

---

## ðŸ—ï¸ ç³»ç»Ÿæž¶æž„

```text
GP-Alpha-Miner/
â”œâ”€â”€ config.py           # ðŸŽ›ï¸ [æŽ§åˆ¶å¡”] å…¨å±€å‚æ•°å®šä¹‰ (ç§ç¾¤ã€æƒ©ç½šé¡¹ã€å¼€å…³)
â”œâ”€â”€ data_loader.py      # ðŸ—ï¸ [åŸºçŸ³] 18ç»´é«˜çº§ç‰¹å¾å·¥ç¨‹ã€æ˜¾å­˜å¼‚æ­¥åŠ è½½
â”œâ”€â”€ operators.py        # ðŸ§® [å¼•æ“Ž] 30+ åŸºäºŽ CuPy çš„å‘é‡åŒ–ç®—å­ (æ—¶åº/æˆªé¢/å›žå½’)
â”œâ”€â”€ fitness.py          # âš–ï¸ [è£åˆ¤] RankICè¯„ä¼°ã€æ¢æ‰‹çŽ‡ä»£ç†ã€å¤æ‚åº¦æƒ©ç½š
â”œâ”€â”€ gp_logic.py         # ðŸ§¬ [è¿›åŒ–] ç»“æž„åŒ–çªå˜/äº¤å‰ç®—å­ã€ç§å­åŠ è½½å™¨
â”œâ”€â”€ seeds.py            # ðŸŒ± [ç§å­åº“] ä¸“å®¶é€»è¾‘é¢„ç½®å…¬å¼
â”œâ”€â”€ run.py              # ðŸš€ [ä¸»ç¨‹åº] DEAP çŽ¯å¢ƒæ³¨å†Œä¸ŽæŒ–æŽ˜ä¸»å¾ªçŽ¯
â”œâ”€â”€ grid_search.py      # ðŸ” [å¯»ä¼˜] å‚æ•°ç½‘æ ¼è‡ªåŠ¨éåŽ†æ¨¡å—
â””â”€â”€ utils.py            # ðŸ’¾ [åŽå‹¤] GPUæ•°æ®æ¬è¿ã€å› å­å­˜å‚¨ã€è‡ªåŠ¨å®½è¡¨åˆå¹¶
```

---

## ðŸ“Š 18 ç»´è¾“å…¥ç‰¹å¾è¯¦è§£ (Input Features)

ç³»ç»Ÿå°†å¶å­èŠ‚ç‚¹å›ºå®šä¸º 18 ä¸ªç»è¿‡å·¥ç¨‹åŒ–å¤„ç†çš„ç‰¹å¾ï¼ˆ`ARG0` è‡³ `ARG17`ï¼‰ï¼Œç¡®ä¿ GP æŒ–æŽ˜å‡ºçš„é€»è¾‘å…·å¤‡ç»æµŽå­¦è§£é‡Šæ€§ã€‚



### 1. åŸºç¡€ä»·é‡ç‰¹å¾ (Basic)
| ç¼–å· | æ ‡è¯†ç¬¦ | æ•°å­¦å®šä¹‰ (LaTeX) | ç‰©ç†å«ä¹‰ |
| :--- | :--- | :--- | :--- |
| `ARG0` | `RET` | $R_t = \frac{P_{close,t}}{P_{close,t-1}} - 1$ | åŸºç¡€æ—¥æ”¶ç›ŠçŽ‡ (Momentum/Reversal) |
| `ARG1` | `OPEN_GAP` | $\frac{O_t}{P_{close,t-1}} - 1$ | éš”å¤œè·³ç©ºå¹…åº¦ (åæ˜ å¼€ç›˜å†²åŠ›) |
| `ARG2` | `HL_RATIO` | $\frac{H_t}{L_t} - 1$ | ç›˜ä¸­æŒ¯å¹… (åæ˜ å¤šç©ºåˆ†æ­§ç¨‹åº¦) |
| `ARG3` | `CO_RATIO` | $\frac{P_{close,t}}{O_t} - 1$ | ç›˜ä¸­å®žä½“æ¶¨å¹… (æ—¥å†…å¤šå¤´å¼ºåº¦) |
| `ARG4` | `LOG_VOL` | $\ln(V_t + 1)$ | äº¤æ˜“æ´»è·ƒåº¦ (å¯¹æ•°åŒ–æˆäº¤é‡) |
| `ARG5` | `TO_RATE` | $\frac{V_t}{\text{FreeShares}}$ | æ¢æ‰‹çŽ‡ (ç­¹ç äº¤æ¢å¼ºåº¦) |
| `ARG6` | `LOG_CAP` | $\ln(\text{FloatCap}_t)$ | è‚¡ç¥¨å¸‚å€¼è§„æ¨¡ (å¯¹æ•°åŒ–) |

### 2. ç»“æž„ã€å‡ä»·ä¸ŽæµåŠ¨æ€§ (Structure & Liquidity)
| ç¼–å· | æ ‡è¯†ç¬¦ | æ•°å­¦å®šä¹‰ (LaTeX) | ç‰©ç†å«ä¹‰ |
| :--- | :--- | :--- | :--- |
| `ARG7` | `VWAP_D` | $\frac{P_{close,t}}{\text{VWAP}_t} - 1$ | å‡ä»·ä¹–ç¦»çŽ‡ (æˆæœ¬åç¦»åº¦) |
| `ARG8` | `AMIHUD` | $\frac{|R_t|}{\text{Amount}_t} \times 10^9$ | é˜¿ç±³èƒ¡å¾·éžæµåŠ¨æ€§æŒ‡æ ‡ (å†²å‡»æˆæœ¬) |
| `ARG9` | `BODY_R` | $\frac{|P_t - O_t|}{H_t - L_t + \epsilon}$ | Kçº¿å®žä½“æ¯”ä¾‹ (è¶‹åŠ¿çœŸå®žåº¦) |
| `ARG10` | `UP_SHD` | $\frac{H_t - \max(O, P)}{H_t - L_t + \epsilon}$ | ä¸Šå½±çº¿å æ¯” (ä¸Šæ–¹æŠ›åŽ‹/é˜»åŠ›) |
| `ARG11` | `LO_SHD` | $\frac{\min(O, P) - L_t}{H_t - L_t + \epsilon}$ | ä¸‹å½±çº¿å æ¯” (ä¸‹æ–¹æ‰¿æŽ¥/æ”¯æ’‘) |

### 3. é«˜é˜¶éžçº¿æ€§ç»Ÿè®¡ (Non-linear Stats)
| ç¼–å· | æ ‡è¯†ç¬¦ | æ•°å­¦å®šä¹‰ (LaTeX) | ç‰©ç†å«ä¹‰ |
| :--- | :--- | :--- | :--- |
| `ARG12` | `LOG_RET` | $\ln(P_t / P_{t-1})$ | å¯¹æ•°æ”¶ç›ŠçŽ‡ (æ•æ‰éžçº¿æ€§å˜åŒ–) |
| `ARG13` | `SKEW` | $\text{Skew}(R, 20)$ | æ”¶ç›Šååº¦ (åæ˜ åˆ†å¸ƒä¸å¯¹ç§°æ€§) |
| `ARG14` | `KURT` | $\text{Kurt}(R, 20)$ | æ”¶ç›Šå³°åº¦ (åæ˜ æžç«¯æ³¢åŠ¨é¢‘çŽ‡) |
| `ARG15` | `BB_WIDTH` | $\frac{Upper_{20} - Lower_{20}}{Mid_{20}}$ | å¸ƒæž—å¸¦å®½åº¦ (æ³¢åŠ¨çŽ‡æ”¶ç¼©/æ‰©å¼ ) |
| `ARG16` | `ATR` | $\frac{\text{ATR}_{14}}{P_t}$ | å½’ä¸€åŒ–å¹³å‡çœŸå®žæ³¢å¹… |
| `ARG17` | `VOL_SKEW` | $\text{Corr}(R, \vert R \vert, 20)$ | æ³¢åŠ¨åæ–œ (åæ˜ ææƒ§æ•ˆåº”) |

---


---

## ðŸ§® ç®—å­åº“è®¡ç®—æ‰‹å†Œ (Operator Library)

æ‰€æœ‰ç®—å­å‡åœ¨ $t$ æ—¶åˆ»é€šè¿‡çª—å£å¤§å° $d$ è¿›è¡Œå›žæº¯ã€‚

### 1. åŸºç¡€æ•°å­¦ä¸Žéžçº¿æ€§å˜æ¢ç®—å­ (Basic Math & Non-Linear)

ç”¨äºŽå¯¹å•å› å­è¿›è¡Œç‚¹å¯¹ç‚¹çš„æ•°å­¦å˜æ¢ï¼Œæå–éžçº¿æ€§ç‰¹å¾æˆ–æ ‡å‡†åŒ–æ•°æ®ã€‚

| ç®—å­ | æè¿° | Arity | é€»è¾‘/å…¬å¼ |
| :--- | :--- | :--- | :--- |
| `add(x, y)` | åŠ æ³• | 2 | $x + y$ |
| `sub(x, y)` | å‡æ³• | 2 | $x - y$ |
| `mul(x, y)` | ä¹˜æ³• | 2 | $x \times y$ |
| `protected_div(x, y)` | ä¿æŠ¤é™¤æ³• | 2 | $x / y$ (å¦‚æžœ $y \approx 0$ è¿”å›ž 0 æˆ– 1) |
| `abs_val(x)` | ç»å¯¹å€¼ | 1 | $\lvert x \rvert$ |
| `log_abs(x)` | å¯¹æ•° | 1 | $\ln(\lvert x \rvert + \epsilon)$ |
| `sqrt_abs(x)` | å¼€æ–¹ | 1 | $\sqrt{\lvert x \rvert}$ |
| `sign(x)` | ç¬¦å·å‡½æ•° | 1 | $x>0 \to 1, x<0 \to -1, x=0 \to 0$ |
| `sigmoid(x)` | Såž‹æ¿€æ´» | 1 | $1 / (1 + e^{-x})$ï¼Œå°†å› å­æ˜ å°„åˆ° (0,1) åŒºé—´ |
| `signed_power(x, a)` | ç¬¦å·å¹‚ | 1 | $sign(x) \times \lvert x \rvert^a$ï¼Œä¿ç•™ç¬¦å·çš„å¹‚è¿ç®— |

### 2. æ—¶åºç»Ÿè®¡ç®—å­ (Rolling Stats Operators)

ç”¨äºŽæå–æ—¶é—´åºåˆ—ä¸Šçš„åˆ†å¸ƒç‰¹å¾ã€‚çª—å£é•¿åº¦ $d$ é€šå¸¸ä¸º 5, 10, 20ã€‚

| ç®—å­ | æè¿° | é€»è¾‘ |
| :--- | :--- | :--- |
| `ts_mean(x, d)` | æ»šåŠ¨å‡å€¼ | $\mu = \frac{1}{d} \sum x_i$ |
| `ts_std(x, d)` | æ»šåŠ¨æ ‡å‡†å·® | $\sigma = \sqrt{Var(x)}$ |
| `ts_sum(x, d)` | æ»šåŠ¨æ±‚å’Œ | $\sum_{i=0}^{d-1} x_{t-i}$ |
| `ts_product(x, d)` | æ»šåŠ¨è¿žä¹˜ | $\prod x_i$ (é€šå¸¸é€šè¿‡ $\exp(\sum \ln x)$ å®žçŽ°) |
| `ts_max(x, d)` | æ»šåŠ¨æœ€å¤§å€¼ | $\max(x_{t-d}...x_t)$ |
| `ts_min(x, d)` | æ»šåŠ¨æœ€å°å€¼ | $\min(x_{t-d}...x_t)$ |
| `ts_delta(x, d)` | æ—¶åºå·®åˆ† | $x_t - x_{t-d}$ (åŠ¨é‡) |
| `ts_delay(x, d)` | æ—¶åºæ»žåŽ | $x_{t-d}$ (å– $d$ å¤©å‰çš„å€¼) |
| `ts_rank(x, d)` | æ—¶åºæŽ’å | $x_t$ åœ¨è¿‡åŽ» $d$ å¤©ä¸­çš„ç™¾åˆ†æ¯”æŽ’å (0~1) |
| `ts_argmax(x, d)` | æœ€å¤§å€¼ä½ç½® | è¿‡åŽ» $d$ å¤©ä¸­æœ€å¤§å€¼è·ç¦»ä»Šå¤©çš„å¤©æ•° |
| `ts_argmin(x, d)` | æœ€å°å€¼ä½ç½® | è¿‡åŽ» $d$ å¤©ä¸­æœ€å°å€¼è·ç¦»ä»Šå¤©çš„å¤©æ•° |
| `ts_decay_linear(x, d)` | çº¿æ€§è¡°å‡å‡å€¼ | åŠ æƒå¹³å‡ï¼Œè¶Šè¿‘æƒé‡è¶Šå¤§ ($w_t=d, w_{t-1}=d-1...$) |

### 3. é«˜çº§è¶‹åŠ¿ä¸Žåˆ†å¸ƒç®—å­ (Advanced Trend & Distribution)

æ•æ‰è¶‹åŠ¿å¼ºåº¦ã€å½¢æ€ä½ç½®ä»¥åŠåˆ†å¸ƒçš„éžæ­£æ€ç‰¹å¾ã€‚

| ç®—å­ | æè¿° | é€»è¾‘ |
| :--- | :--- | :--- |
| `ts_zscore(x, d)` | æ»šåŠ¨Z-Score | $(x_t - \mu_d) / \sigma_d$ï¼Œè¡¡é‡å‡å€¼å›žå½’çš„åç¦»åº¦ |
| `ts_skew(x, d)` | æ»šåŠ¨ååº¦ | ä¸‰é˜¶çŸ©ï¼Œè¡¡é‡åˆ†å¸ƒçš„ä¸å¯¹ç§°æ€§ (å´©ç›˜/çˆ†å‘å‰å…†) |
| `ts_kurt(x, d)` | æ»šåŠ¨å³°åº¦ | å››é˜¶çŸ©ï¼Œè¡¡é‡æžç«¯å€¼å‡ºçŽ°çš„æ¦‚çŽ‡ (è‚¥å°¾æ•ˆåº”) |
| `ts_tslope(x, d)` | æ—¶é—´å›žå½’æ–œçŽ‡ | $x$ å¯¹æ—¶é—´ $t$ çš„å›žå½’æ–œçŽ‡ï¼Œåæ˜ è¶‹åŠ¿çš„æ–¹å‘å’Œé€Ÿåº¦ |
| `ts_rsi(x, d)` | ç›¸å¯¹å¼ºå¼± | æ¶¨å¹…å‡å€¼ / (æ¶¨å¹…å‡å€¼ + è·Œå¹…å‡å€¼)ï¼Œç»å…¸çš„éœ‡è¡æŒ‡æ ‡ |
| `ts_range_pos(x, d)` | åŒºé—´ä½ç½® | $(x_t - \min_d) / (\max_d - \min_d)$ï¼Œç±»ä¼¼ KDJ ä¸­çš„ K å€¼ |

### 4. é…å¯¹ä¸Žå›žå½’ç®—å­ (Pairwise & Regression Operators)

å¤„ç†ä¸¤ä¸ªåºåˆ— $x$ å’Œ $y$ ä¹‹é—´çš„å…³ç³»ã€‚

| ç®—å­ | æè¿° | Arity | é€»è¾‘ |
| :--- | :--- | :--- | :--- |
| `ts_corr(x, y, d)` | æ»šåŠ¨ç›¸å…³ç³»æ•° | 2 | $Cov(x,y) / (\sigma_x \sigma_y)$ï¼Œè¡¡é‡ä¸¤è€…çš„åŒæ­¥æ€§ |
| `ts_cov(x, y, d)` | æ»šåŠ¨åæ–¹å·® | 2 | $E[xy] - E[x]E[y]$ |
| `ts_beta(x, y, d)` | å›žå½’ Beta | 2 | $Cov(x,y) / Var(x)$ï¼Œè¡¡é‡ $y$ å¯¹ $x$ çš„æ•æ„Ÿåº¦ |
| `ts_resid(x, y, d)` | å›žå½’æ®‹å·® | 2 | $y - (\alpha + \beta x)$ï¼Œå‰”é™¤ $x$ å½±å“åŽçš„ç‰¹è´¨æ³¢åŠ¨ (Alpha) |

### 5. æˆªé¢ç®—å­ (Cross-Sectional Operators)

ç”¨äºŽåœ¨åŒä¸€æ—¶é—´ç‚¹æ¯”è¾ƒä¸åŒè‚¡ç¥¨çš„ç›¸å¯¹å¼ºå¼±ã€‚

| ç®—å­ | æè¿° | é€»è¾‘ |
| :--- | :--- | :--- |
| `cs_rank(x)` | æˆªé¢æŽ’å | å°†å½“å¤©çš„å› å­å€¼è½¬åŒ–ä¸º 0~1 çš„ç™¾åˆ†æ¯”æŽ’å (Uniform) |
| `cs_scale(x)` | æˆªé¢æ ‡å‡†åŒ– | $(x - \mu_{date}) / \sigma_{date}$ (Z-Score) |
| `cs_demean(x)` | æˆªé¢åŽ»å‡å€¼ | $x - \mu_{date}$ (ä¸­å¿ƒåŒ–) |
---

## âš–ï¸ è¯„ä»·è¯„ä»·ä¸Žç½‘æ ¼å¯»ä¼˜ (Fitness & Grid Search)

ç³»ç»Ÿçš„é€‚åº”åº¦å‡½æ•°åœ¨ `fitness.py` ä¸­å®šä¹‰ï¼Œç”±ä»¥ä¸‹å…¬å¼åŠ¨æ€åˆæˆï¼š

### 1. æ¢æ‰‹çŽ‡æƒ©ç½šä»£ç† (Turnover Proxy)
ä¸ºå¹³è¡¡è®¡ç®—é€Ÿåº¦ä¸Žå®žæˆ˜æˆæœ¬ï¼Œæˆ‘ä»¬ä¸è¿›è¡Œé€ç¬”æ’®åˆï¼Œè€Œæ˜¯è®¡ç®—å› å­åœ¨æˆªé¢ä¸Šçš„**æ—¶åºè‡ªç›¸å…³æ€§**ï¼š
$$\rho_{\text{auto}} = \text{CosineSimilarity}(F_t, F_{t+1})$$
$$\text{Penalty}_{\text{turnover}} = (1 - \text{Avg}(\rho_{\text{auto}})) \times \lambda_{\text{turn}}$$
*å³ï¼šå› å­å€¼ä»Šå¤©å’Œæ˜Žå¤©è¶Šåƒï¼ˆè‡ªç›¸å…³è¶Šé«˜ï¼‰ï¼Œæ¢æ‰‹çŽ‡è¶Šä½Žï¼Œæƒ©ç½šè¶Šå°ã€‚*

### 2. æœ€ç»ˆå¾—åˆ†å…¬å¼
$$\text{Fitness} = \text{ICIR} - \text{Penalty}_{\text{turnover}} - \text{Length}(\text{Formula}) \times \lambda_{\text{comp}}$$
* **ICIR**: $\frac{\text{Mean}(IC)}{\text{Std}(IC)}$ï¼Œé»˜è®¤é‡‡ç”¨ **Rank IC** æ¨¡å¼ã€‚
* **æ–¹å‘æƒ©ç½š**: è‹¥ $\text{Mean}(IC) < 0$ï¼Œç³»ç»Ÿä¼šåˆ¤å®šä¸ºåå‘å› å­å¹¶å¯¹å¾—åˆ†è¿›è¡Œ 0.1 å€çš„é‡ç½šã€‚

### 3. ç½‘æ ¼æœç´¢é€»è¾‘ (Grid Search)
é€šè¿‡ `grid_search.py`ï¼Œç³»ç»Ÿä¼šæ ¹æ® `itertools.product` ç”Ÿæˆå‚æ•°ç½‘æ ¼ï¼ˆå¦‚ä¸åŒæ¯”ä¾‹çš„ `PENALTY_TURNOVER` å’Œ `PENALTY_COMPLEXITY`ï¼‰ï¼Œå¹¶åˆ©ç”¨ `setattr` åŠ¨æ€æ³¨å…¥ `config` æ¨¡å—ï¼Œå®žçŽ°å…¨è‡ªåŠ¨çš„å®žéªŒéåŽ†ã€‚

---

## ðŸ§¬ è¿›åŒ–è¿›é˜¶æœºåˆ¶

### 1. çƒ­å¯åŠ¨ (Warm Start)
ç³»ç»Ÿåœ¨åˆå§‹åŒ–æ—¶ï¼Œæœ‰æ¦‚çŽ‡ç›´æŽ¥ä»Ž `seeds.py` åŠ è½½æ‰‹å·¥æž„é€ çš„é€»è¾‘éª¨æž¶ï¼ˆå¦‚ `ts_corr_10(RET, L_VOL)`ï¼‰ã€‚
* **é€»è¾‘ä¼˜åŠ¿**: é¿å¼€çº¯éšæœºæœç´¢çš„ç›²ç›®æ€§ï¼Œåœ¨å·²çŸ¥çš„æœ‰æ•ˆé‡‘èžé€»è¾‘åŸºç¡€ä¸Šè¿›è¡Œç»†å¾®è°ƒå‚å’Œç‰¹å¾æ›¿æ¢ã€‚

### 2. ç»“æž„çº¦æŸ (Structure Constrained)
å˜å¼‚å’Œäº¤å‰æ”¯æŒâ€œéª¨æž¶é”å®šâ€ï¼š
* **ç‚¹çªå˜**: ä»…éšæœºæ›¿æ¢å¶å­å±‚çº§çš„ç‰¹å¾å˜é‡ï¼Œä¸æ”¹å˜çˆ¶èŠ‚ç‚¹çš„æ•°å­¦ç®—å­ã€‚
* **åŒæž„äº¤å‰**: ä»…äº¤æ¢ä¸¤æ£µé€»è¾‘æ·±åº¦å’Œç»“æž„ç±»ä¼¼çš„å­æ ‘ï¼Œæœ€å¤§ç¨‹åº¦ä¿ç•™ä¼˜ç§€çš„é‡‘èžå› å­åŸºå› ã€‚

---

## ðŸš€ å¿«é€Ÿå¯åŠ¨

1.  **çŽ¯å¢ƒå®‰è£…**:
    ```bash
    pip install pandas numpy cupy-cuda11x deap pyarrow
    ```
2.  **ç½‘æ ¼å¯»ä¼˜**:
    ```bash
    # é…ç½® grid_search.py ä¸­çš„å‚æ•°ç½‘æ ¼åŽæ‰§è¡Œ
    python grid_search.py
    ```
3.  **ç»“æžœäº§å‡º**:
    ç¨‹åºå°†åœ¨ `GP/GPFactorsRound/` ä¸‹æ ¹æ®å‚æ•°åŠ¨æ€åˆ›å»ºå®žéªŒæ–‡ä»¶å¤¹ã€‚
    * `formulas.csv`: è¯¦ç»†åˆ—å‡º Top å› å­çš„æ•°å­¦è¡¨è¾¾å¼ä¸Ž Fitness å¾—åˆ†ã€‚
    * `All_Factors_Merged.parquet`: è‡ªåŠ¨åˆå¹¶ç”Ÿæˆçš„å¤šå› å­å®½è¡¨ï¼ŒåŒ…å« `TradingDay` å’Œ `SecuCode` ç´¢å¼•ï¼Œç›´æŽ¥å¯¹æŽ¥åŽç»­ Alpha åˆæˆæ¨¡åž‹ã€‚