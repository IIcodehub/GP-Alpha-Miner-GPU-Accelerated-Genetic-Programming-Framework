# gp_alpha_miner/seeds.py

# 种子公式库 (Effective Alpha Structures)
# 这里的逻辑将被作为初始种群的 "骨架"
# 机器的任务是：保持这些骨架不变，寻找最优的输入变量组合

seeds_library = [
    # ----------------------------------------------------
    # 1. 动量/反转类骨架
    # ----------------------------------------------------
    # 逻辑: 寻找量价背离或波动率配合的时刻
    "ts_corr_10(RET, L_VOL)",
    "ts_corr_10(VWAP_D, ATR)",
    "mul(SKEW, RET)",  
    
    # ----------------------------------------------------
    # 2. 强弱排名类骨架 (Alpha101 风格)
    # ----------------------------------------------------
    # 逻辑: 过去 N 天最强的股票，且动量在衰减
    "decay_10(ts_rank_10(RET))",
    "ts_min_10(cs_rank(CO_R))",
    
    # ----------------------------------------------------
    # 3. 波动率突破骨架
    # ----------------------------------------------------
    # 逻辑: 布林带开口变大 + 价格处于高位 -> 追涨/杀跌
    "mul(BB_WIDTH, cs_rank(RET))",
    "mul(ATR, cs_rank(GAP))",

    # ----------------------------------------------------
    # 4. 资金流向骨架
    # ----------------------------------------------------
    # 逻辑: 价格偏离度 * 换手率 (高换手推升 vs 缩量阴跌)
    "mul(VWAP_D, TO_RATE)",
    "ts_corr_10(RET, TO_RATE)",

    # ----------------------------------------------------
    # 5. GP生成
    # ----------------------------------------------------
    "ts_min_10(cs_rank(ts_delta_1(cs_scale(CO_R))))",
]